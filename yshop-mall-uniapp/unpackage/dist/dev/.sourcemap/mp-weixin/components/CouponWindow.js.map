{"version":3,"sources":["webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/components/CouponWindow.vue?1a52","webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/components/CouponWindow.vue?cb4e","webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/components/CouponWindow.vue?ffc4","webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/components/CouponWindow.vue?7d3d","uni-app:///components/CouponWindow.vue"],"names":["name","props","couponList","type","default","computed","data","value","mounted","methods","checked","initial","then","uni","title","icon","duration","catch","close"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;;;AAG3D;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAy1B,CAAgB,0yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;AC4B72B;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAIA;EACAA;EACAC;IACAC;MACAC;MACAC;QAAA;MAAA;IACA;EACA;EACAC;EACAC;IACA;MACAC;IACA;EACA;EACAC;EACAC;IACAC;MAAA;MACA;MACA;MAEA;QACAC;QACA;MACA;MACA,mCACAC;QACA;QACAC;UACAC;UACAC;UACAC;QACA;MACA,GACAC;QACAJ;UACAC;UACAC;UACAC;QACA;MACA;MACA;QACA;QACA;MACA;IACA;IACAE;MACA;MACA;IACA;EACA;AACA;AAAA,4B","file":"components/CouponWindow.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./CouponWindow.vue?vue&type=template&id=25234f91&\"\nvar renderjs\nimport script from \"./CouponWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./CouponWindow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/CouponWindow.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CouponWindow.vue?vue&type=template&id=25234f91&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.couponList.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CouponWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CouponWindow.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view v-if=\"couponList.length > 0\">\r\n\t\t<view class=\"coupon-window\" :class=\"value ? 'on' : ''\">\r\n\t\t\t<view class=\"couponWinList\">\r\n\t\t\t\t<view class=\"item acea-row row-between-wrapper\" v-for=\"(item, couponwindiwIndex) in couponList\" :key=\"couponwindiwIndex\">\r\n\t\t\t\t\t<view class=\"money font-color-red\">\r\n\t\t\t\t\t\t￥<text class=\"num\">{{ item.coupon_price }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t\t购物买{{ item.use_min_price }}减{{ item.coupon_price }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.end_time\">\r\n\t\t\t\t\t\t\t{{ item.start_time }}-{{ item.end_time }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"height:120rpx\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"lid\">\r\n\t\t\t\t<view class=\"bnt font-color-red\" @click=\"checked\">立即领取</view>\r\n\t\t\t\t<view class=\"iconfont icon-guanbi3\" @click=\"close\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"mask\" @touchmove.prevent :hidden=\"!value\"></view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tmapGetters\r\n\t} from \"vuex\";\r\n\timport {handleLoginFailure} from \"@/utils\";\r\n\timport {\r\n\t\tcouponReceiveBatch\r\n\t} from \"@/api/user\";\r\n\r\n\texport default {\r\n\t\tname: \"CouponWindow\",\r\n\t\tprops: {\r\n\t\t\tcouponList: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: mapGetters([\"isLogin\"]),\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: true\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted: function() {},\r\n\t\tmethods: {\r\n\t\t\tchecked() {\r\n\t\t\t\tconst isLogin = this.isLogin;\r\n\t\t\t\tif (!isLogin) return handleLoginFailure();\r\n\r\n\t\t\t\tconst ids = this.couponList.reduce((initial, coupon) => {\r\n\t\t\t\t\tinitial.push(coupon.id);\r\n\t\t\t\t\treturn initial;\r\n\t\t\t\t}, []);\r\n\t\t\t\tcouponReceiveBatch(ids)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$emit(\"success\");\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '领取成功',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '已领取',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\tif (isLogin) {\r\n\t\t\t\t\tthis.value = false;\r\n\t\t\t\t\tthis.$emit(\"checked\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclose: function() {\r\n\t\t\t\tthis.value = false;\r\n\t\t\t\tthis.$emit(\"close\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n"],"sourceRoot":""}